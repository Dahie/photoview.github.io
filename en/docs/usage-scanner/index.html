<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>File scanner - Photoview Documentation</title><link rel="stylesheet" href="/main.css"><link rel="stylesheet" href="/docs/style.css"><link href="/docs/syntax-theme.css" rel="stylesheet"><script defer="defer" data-domain="photoview.github.io" src="https://analytics.qpqp.dk/js/plausible.outbound-links.js"></script><script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script></head><body><div class="mx-4 relative"><div class="max-w-screen-2xl m-auto flex items-start min-h-screen"><aside class="w-56 sticky top-0 docs-nav flex-shrink-0"><div class="overflow-y-auto max-h-screen pr-4"><a href="/"><img class="my-8" src="/images/logo-large.svg" alt="Photoview logo" height="60"> </a><input id="nav-search-field" type="search" placeholder="Search" class="pointer mb-4 w-full py-2 px-3 text-sm border border-gray-200 rounded-md"><nav class="mb-8"><ul><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/">Introduction</a></li><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/getting-started/">Getting Started</a></li><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/faq/">FAQ</a></li><li class=""><span class="ml-3 mt-6 block uppercase text-gray-600 font-bold text-xs tracking-wider">Installation</span><ul><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/installation-docker/">Setup with Docker</a></li><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/installation-manual/">Manual Setup</a></li><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/installation-systemd/">Use with systemd</a></li><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/installation-environment-variables/">Environment Variables</a></li><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/installation-reverse-proxies/">Reverse Proxy</a></li></ul></li><li class=""><span class="ml-3 mt-6 block uppercase text-gray-600 font-bold text-xs tracking-wider">Usage</span><ul><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/usage-basic-overview/">Basic Overview</a></li><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/usage-nextcloud/">Using with Nextcloud</a></li><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/usage-people/">Face recognition</a></li><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/usage-places/">Places</a></li><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm bg-blue-50 text-primaryDark hover:text-primaryDark" href="/en/docs/usage-scanner/" aria-current="page">File scanner</a></li><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/usage-settings/">Settings Page</a></li><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/usage-sharing/">Share albums and media</a></li></ul></li><li class=""><span class="ml-3 mt-6 block uppercase text-gray-600 font-bold text-xs tracking-wider">Contributing</span><ul><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/contribute-how-to/">How to contribute</a></li><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/contribute-feature-request/">Reporting bugs</a></li><li><a class="px-3 py-1 block no-underline hover:no-underline text-sm text-black hover:text-gray-900 hover:bg-gray-100" href="/en/docs/contribute-setup-locally/">Setup Development Environment</a></li></ul></li></ul></nav></div></aside><style>.docs-nav::before {
        content: '';
        background-color: rgb(249, 250, 251);
        position: absolute;
        z-index: -1;
        top: 0;
        right: 0;
        width: 100vw;
        height: 100vh;
      }</style><aside id="content-toc" class="w-48 sticky docs-toc order-3 flex-shrink-0"><span class="block uppercase text-gray-600 font-bold text-xs tracking-wider pt-0">Contents</span><nav class="toc"><ol><li><a href="#supported-file-types">Supported file types</a></li><li><a href="#thumbnail-generation">Thumbnail generation</a></li><li><a href="#ignorefiles">Ignorefiles</a></li></ol></nav></aside><main id="primary-content" class="mb-40 w-full px-14 py-14"><header class="flex justify-between items-center"><h1>File scanner</h1><div class="flex items-center"><a title="Edit on GitHub" class="text-gray-500 hover:text-primaryDark no-underline" href="https://github.com/photoview/photoview.github.io/edit/master/./src/en/docs/usage-scanner.md"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-3"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg> </a><select class="ml-5" id="lg-switcher" onchange="changeLanguage()"><option class="lg-switcher-item" selected="selected" value="/en/docs/usage-scanner/">English</option><option class="lg-switcher-item" value="/fr/docs/usage-scanner/">Fran√ßais</option></select><script>function changeLanguage() {
      document.location.href=document.getElementById("lg-switcher").value;
    }</script></div></header><p>Each user in Photoview is assigned a set of <em>file paths</em>, when the scanner runs it will search for media within each path.</p><p>A user can have multiple file paths but one cannot be contained within another one.</p><p>Two users can have overlapping file paths. When this is done, each shared media will only be processed once by the scanner, such that the cache doesn't contain duplicates, but public shares will be individual to each user, and so will media favorites.</p><h2 id="supported-file-types" tabindex="-1"><a class="header-anchor" href="#supported-file-types" aria-label="Anchor"></a> Supported file types</h2><p>Photoview supports the browser native image formats out of the box (JPEG, PNG, GIF etc.). But for files not understood by the browser, Photoview can use tools to convert these files into browser supported types. It can use <a href="https://www.darktable.org/">Darktable</a> to process RAW image files and <a href="https://www.ffmpeg.org/">Ffmpeg</a> to process video formats.</p><p>A complete list of supported file formats can be found in the <a href="https://github.com/photoview/photoview/blob/master/api/scanner/media_type/media_type.go">media_type.go</a> source file.</p><h2 id="thumbnail-generation" tabindex="-1"><a class="header-anchor" href="#thumbnail-generation" aria-label="Anchor"></a> Thumbnail generation</h2><p>When the scanner finds a new image it generates a small sized thumbnail to be used when many images are shown at once. It saves this thumbnail to the media cache directory, as specified by the <code>PHOTOVIEW_MEDIA_CACHE</code> <a href="/en/docs/installation-environment-variables/#general">environment variable</a>.</p><p>In addition to the thumbnail, Photoview will also generate a high resolution version JPEG version of the image, if the file format of the original image cannot be displayed in the browser, for example a RAW image.</p><h2 id="ignorefiles" tabindex="-1"><a class="header-anchor" href="#ignorefiles" aria-label="Anchor"></a> Ignorefiles</h2><p>Inside any media directory a <code>.photoviewignore</code> file can be added with rules for files and directories to ignore. The rules will be applied from the directory it is placed in and all its subdirectories. If another ignore file is present in one of the subdirectories the rules will be merged.</p><p>Ignore rules follow the <a href="https://git-scm.com/docs/gitignore#_pattern_format">format of <code>.gitignore</code> files</a>.</p><pre class="language-gitignore"><code class="language-gitignore"><span class="token comment"># ignores all directories with the name `directory_name`</span><br><span class="token entry string">directory_name<span class="token punctuation">/</span></span><br><br><span class="token comment"># ignore all files with the .jpg extension</span><br><span class="token entry string"><span class="token operator">*</span>.jpg</span><br><br><span class="token comment"># make an exception to the previous rule for files named `image.jpg`</span><br><span class="token entry string"><span class="token operator">!</span>image.jpg</span></code></pre></main></div></div><div id="search-overlay" class="hidden"><div id="search-dimmer" class="fixed top-0 left-0 w-full h-full bg-black opacity-10"></div><div class="fixed top-20 left-1/2 transform -translate-x-1/2 bg-white shadow-lg border border-gray-200 rounded-md p-4 w-40rem overflow-y-auto h-3/4" role="dialog"><input id="search-field" type="search" class="mb-4 w-full py-2 px-3 text-sm border border-gray-200 rounded-md" placeholder="Search" aria-autocomplete="list" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" enterkeyhint="search" aria-controls="search-results-box"><div role="listbox" aria-label="Search" id="search-results-box" class="">Loading results...</div></div></div><script defer="defer" src="/docs/docs-scripts.js"></script></body></html>